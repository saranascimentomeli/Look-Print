"use strict";(self.webpackChunkportalMeli=self.webpackChunkportalMeli||[]).push([[258],{2258:(oe,U,m)=>{m.r(U),m.d(U,{EagleInboundModule:()=>Kt});var u=m(9808),N=m(1083),s=m(3075),J=m(5226),c=m.n(J);class v{constructor(){this.tote=[]}}var t=m(5e3),k=m(387),g=m(2340),I=m(520);let h=(()=>{class o{constructor(e){this.httpCliente=e}CommonFormData(){this.formData=new FormData,this.formData.append("cad",g.N.cad),this.formData.append("token",k.m.GetInstance().GetToken().token)}SalvarBuffer(e,n,r){return this.CommonFormData(),this.formData.append("baseStage",n),this.formData.append("baseOrder",r.toString()),this.formData.append("file",e),this.httpCliente.post(g.N.endpoint+"eagle-inbound/CadastrarStage",this.formData)}SalvarCoresEagle(e){return this.CommonFormData(),this.formData.append("NomeRegra",e.nomeRegra),this.formData.append("TempoMinimo",e.tempo_minimo.toString()),this.formData.append("CondicionalTempoMinimo",e.condicional_tempo_minimo),this.formData.append("TempoMaximo",e.tempo_maximo.toString()),this.formData.append("CondicionalTempoMaximo",e.condicional_tempo_maximo),this.formData.append("OrdemDaRegra",e.ordem_da_regra.toString()),this.formData.append("ColorHex",e.color_hex),this.httpCliente.post(g.N.endpoint+"eagle-inbound/SalvarCoresEagle",this.formData)}DeleteCoresEagle(e){return this.CommonFormData(),this.formData.append("id",e.id.toString()),this.formData.append("NomeRegra",e.nomeRegra),this.formData.append("TempoMinimo",e.tempo_minimo.toString()),this.formData.append("CondicionalTempoMinimo",e.condicional_tempo_minimo),this.formData.append("TempoMaximo",e.tempo_maximo.toString()),this.formData.append("CondicionalTempoMaximo",e.condicional_tempo_maximo),this.formData.append("OrdemDaRegra",e.ordem_da_regra.toString()),this.formData.append("ColorHex",e.color_hex),this.httpCliente.post(g.N.endpoint+"eagle-inbound/DeleteCoresEagle",this.formData)}GetCoresEagel(){return this.CommonFormData(),this.httpCliente.post(g.N.endpoint+"eagle-inbound/PegarCoresEagle",this.formData)}excluirStage(e){return this.CommonFormData(),this.formData.append("baseStage",JSON.stringify(e)),this.httpCliente.post(g.N.endpoint+"eagle-inbound/ExcluirStage",this.formData)}GetBuffers(){return this.CommonFormData(),this.httpCliente.post(g.N.endpoint+"eagle-inbound/GetInfoBuffers",this.formData)}Armazenar(e){return this.CommonFormData(),this.formData.append("data",JSON.stringify(e)),this.httpCliente.post(g.N.endpoint+"eagle-inbound/ArmazenarTotes",this.formData)}Remover(e){return this.CommonFormData(),this.formData.append("data",JSON.stringify(e)),this.httpCliente.post(g.N.endpoint+"eagle-inbound/RemoverTotes",this.formData)}PesquisarTote(e){return this.CommonFormData(),this.formData.append("data",JSON.stringify(e)),this.httpCliente.post(g.N.endpoint+"eagle-inbound/PesquisarTransferirTotes",this.formData)}TransferirTotes(e){return this.CommonFormData(),this.formData.append("data",JSON.stringify(e)),this.httpCliente.post(g.N.endpoint+"eagle-inbound/TransferirTotes",this.formData)}ReportTotes(e=null){return this.CommonFormData(),null!=e&&this.formData.append("buffer",e),this.httpCliente.post(g.N.endpoint+"eagle-inbound/ReportEagle",this.formData)}ReportEagleTela(){return this.CommonFormData(),this.httpCliente.post(g.N.endpoint+"eagle-inbound/ReportEagleTela",this.formData)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(I.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=m(9224),f=m(7322),q=m(7531),C=m(7423),R=m(7544),A=m(4623),M=m(3874);function S(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"mat-card-title"),t._uU(2,"Escaneie a posi\xe7\xe3o"),t.qZA(),t.TgZ(3,"mat-card-content"),t.TgZ(4,"mat-form-field"),t.TgZ(5,"mat-label"),t._uU(6,"Posi\xe7\xe3o"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.qZA(),t.TgZ(8,"mat-card-actions",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().Anterior()}),t._uU(10,"Anterior"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().Finalizar()}),t._uU(12,"Finalizar"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(11),t.Q6J("disabled",e.desabilitarFinalizar||null==e.stageModel.stage||0==e.stageModel.stage.length)}}function Y(o,a){1&o&&(t.TgZ(0,"div",12),t._uU(1," Tote Invalido. "),t.qZA())}function Q(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"mat-card-title"),t._uU(2,"Escaneie a CA"),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t.TgZ(4,"p"),t.TgZ(5,"span",9),t._uU(6,"Quantidade de Totes"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"mat-card-content"),t.TgZ(8,"mat-form-field"),t.TgZ(9,"mat-label"),t._uU(10,"CA"),t.qZA(),t._UZ(11,"input",10),t.YNc(12,Y,2,0,"div",11),t.qZA(),t.qZA(),t.TgZ(13,"mat-card-actions",6),t.TgZ(14,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().Proximo()}),t._uU(15,"Proximo"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.s9C("matBadge",e.stageModel.tote.length),t.xp6(7),t.Q6J("ngIf",null==e.tote.errors?null:e.tote.errors.pattern),t.xp6(2),t.Q6J("disabled",!(e.stageModel.tote.length>0))}}function P(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"div",3),t._uU(2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"button",17),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).RemoveTote(i)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(2),t.hij(" ",e," ")}}function z(o,a){if(1&o&&(t.TgZ(0,"mat-card"),t.TgZ(1,"mat-card-title"),t._uU(2,"CAs Adicionadas"),t.qZA(),t.TgZ(3,"div",13),t.TgZ(4,"mat-selection-list",14,15),t.YNc(6,P,7,1,"mat-list-item",16),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.stageModel.tote)}}function j(o,a){1&o&&(t.TgZ(0,"div",18),t._UZ(1,"span",19),t.qZA())}let G=(()=>{class o{constructor(e,n,r){this._formBuilder=e,this.stageModel=n,this.service=r,this.mostrar=!0,this.desabilitarFinalizar=!1,this.customPatterns={0:{pattern:new RegExp("[0-9]")},P:{pattern:new RegExp("[a-zA-Z]")}}}ngOnInit(){this.CreateForm(this.stageModel),this.onChanges()}CreateForm(e){this.formCliente=this._formBuilder.group({posicao:[e.stage,s.kI.required],tote:[]})}get tote(){return this.formCliente.get("tote")}onChanges(){this.formCliente.get("tote").valueChanges.subscribe(e=>{var n;if("C"==e[0].toUpperCase()&&18==e.length||"M"==e[0].toUpperCase()&&16==e.length){if(null===(n=this.formCliente.get("tote").errors)||void 0===n?void 0:n.pattern)return;if(-1===this.Exists(e))return this.stageModel.tote.push(e),void this.formCliente.get("tote").setValue("",{emitEvent:!1});this.formCliente.get("tote").setValue("",{emitEvent:!1})}}),this.formCliente.get("posicao").valueChanges.subscribe(e=>{this.stageModel.stage=e})}Proximo(){c().fire({text:"O pallet esta com "+this.stageModel.tote.length+" Totes. Deseja continuar?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, continuar!"}).then(e=>{e.isConfirmed&&(this.mostrar=!1)})}Anterior(){this.mostrar=!0}ResetForm(){this.stageModel=new v,this.CreateForm(this.stageModel),this.mostrar=!0,this.onChanges()}Finalizar(){this.formCliente.valid&&(this.desabilitarFinalizar=!0,this.service.Armazenar(this.stageModel).subscribe(e=>{c().fire({text:"Salvo",icon:"success"}),this.stageModel.tote=[],this.stageModel.stage="",this.formCliente.get("posicao").setValue("",{emitEvent:!1}),this.mostrar=!0},e=>{402!=e.status?c().fire({text:"erro",icon:"error"}):c().fire({text:"Endere\xe7o de stage n\xe3o encontrado na base de dados.",icon:"error"})}),this.desabilitarFinalizar=!1)}RemoveTote(e){const n=this.Exists(e);-1!==n&&this.stageModel.tote.splice(n,1)}Exists(e){return this.stageModel.tote.indexOf(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(v),t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-armazenar"]],features:[t._Bn([v])],decls:7,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],[1,"row"],[1,"col","text-center"],["class","spinner-border","role","status",4,"ngIf"],["matInput","","placeholder","Escaneie uma posi\xe7\xe3o","formControlName","posicao"],["align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"matBadge"],["matInput","","NgModel","","placeholder","Escaneie uma CA","formControlName","tote"],["style","color: red;",4,"ngIf"],[2,"color","red"],[1,"row","w-100"],[1,"w-100"],["modeTote",""],[4,"ngFor","ngForOf"],["mat-icon-button","",1,"btn","btn-danger",3,"click"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.YNc(1,S,13,1,"mat-card",1),t.YNc(2,Q,16,3,"mat-card",1),t.YNc(3,z,7,1,"mat-card",1),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.YNc(6,j,2,0,"div",4),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.formCliente),t.xp6(1),t.Q6J("ngIf",!n.mostrar),t.xp6(1),t.Q6J("ngIf",n.mostrar),t.xp6(1),t.Q6J("ngIf",n.stageModel.tote.length>0&&n.mostrar),t.xp6(3),t.Q6J("ngIf",n.desabilitarFinalizar))},directives:[s._Y,s.JL,s.sg,u.O5,l.a8,l.n5,l.dn,f.KE,f.hX,q.Nt,s.Fj,s.JJ,s.u,l.hq,C.lW,l.$j,R.k,A.Ub,u.sg,A.Tg,M.Hw],styles:["mat-card[_ngcontent-%COMP%]{margin:10px}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),o})();var _=m(8966);function H(o,a){if(1&o&&(t.TgZ(0,"mat-list-option"),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.qZA()),2&o){const e=a.$implicit;t.xp6(2),t.AsE("",e.tote," / ",e.tempo_restante_formatado,"")}}let X=(()=>{class o{constructor(e,n){this.dialogRef=e,this.data=n}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.so),t.Y36(_.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-totes-detail"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-selection-list"),t.YNc(1,H,3,2,"mat-list-option",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.data.stage_puts))},directives:[A.Ub,u.sg,A.vS],styles:[""]}),o})();const V=function(o){return{backgroundColor:o}};function W(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"mat-card",3),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().EmmitCardClick(i)}),t._uU(2),t.TgZ(3,"mat-card-footer",4),t._uU(4),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(3,V,e.color)),t.xp6(1),t.hij(" ",e.descricao," "),t.xp6(2),t.hij("TOTES : ",e.stage_puts.length,"")}}let w=(()=>{class o{constructor(e,n,r,i){this.dialogRef=e,this.data=n,this.service=r,this.dialog=i}ngOnInit(){this.stages=this.data.stages}EmmitCardClick(e){console.log(e),this.dialog.open(X,{data:e})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.so),t.Y36(_.WI),t.Y36(h),t.Y36(_.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-buffer-stage-in-detail"]],decls:2,vars:1,consts:[[1,"row","w-100","d-flex","justify-content-center"],["class","col-sm-2 m-2",4,"ngFor","ngForOf"],[1,"col-sm-2","m-2"],[1,"text-center",3,"ngStyle","click"],[1,"text-center"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,W,5,5,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.stages))},directives:[u.sg,l.a8,u.PC,l.rt],styles:[""]}),o})();const K=function(o){return{backgroundColor:o}};function L(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"mat-card",3),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().EmmitCardClick(i)}),t._uU(2),t.TgZ(3,"mat-card-footer",4),t._uU(4),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngStyle",t.VKq(3,K,e.color)),t.xp6(1),t.hij(" ",e.descricao," "),t.xp6(2),t.hij("Stages : ",e.stages.length,"")}}let tt=(()=>{class o{constructor(e,n){this.relatorioService=e,this.dialog=n,this.serverInfo=0}ngOnInit(){this.RequestRelatorio(),this.serverInfo=window.setInterval(()=>{this.RequestRelatorio()},3e4)}RequestRelatorio(){this.relatorioService.ReportEagleTela().subscribe(e=>{this.base=e})}ngOnDestroy(){window.clearInterval(this.serverInfo)}EmmitCardClick(e){this.dialog.open(w,{data:e,width:"100%",height:"90%"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h),t.Y36(_.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-buffer-stage-in"]],decls:2,vars:1,consts:[[1,"row","w-100","d-flex","justify-content-center"],["class","col-sm-2 m-2",4,"ngFor","ngForOf"],[1,"col-sm-2","m-2"],[1,"text-center",3,"ngStyle","click"],[1,"text-center"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,L,5,5,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.base))},directives:[u.sg,l.a8,u.PC,l.rt],styles:[".legend[_ngcontent-%COMP%]{border-radius:5px;font-size:large}.vermelho[_ngcontent-%COMP%]{border-radius:5px;font-size:large;color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-top-left-radius:1em;border-top-right-radius:1em}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0;font-weight:700;font-size:medium;text-align:center;font-size:2vw}.empty[_ngcontent-%COMP%]{background-color:#f1f1f1;width:80%;height:4vw;margin:10px;line-height:4vw;text-align:center;border-radius:5px;box-shadow:0 0 10px -5px #000}.alocated[_ngcontent-%COMP%]{width:80%;height:4vw;margin:10px;line-height:4vw;text-align:center;border-radius:5px;box-shadow:0 0 10px -5px #000}.prioridade[_ngcontent-%COMP%]{background-color:#fa0000!important;width:80%;height:4vw;margin:10px;line-height:4vw;text-align:center;border-radius:5px;box-shadow:0 0 10px -5px #000;animation:blink-animation 3s steps(5,start) infinite;-webkit-animation:blink-animation 1s steps(5,start) infinite}@keyframes blink-animation{to{visibility:hidden}}span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;line-height:normal;font-size:1vw;font-weight:700}td.mat-cell[_ngcontent-%COMP%]{border-bottom-style:none}"]}),o})();var d=m(8279);function et(o,a){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Nome da rua"),t.qZA())}function ot(o,a){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.descricao," ")}}function nt(o,a){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Ordem"),t.qZA())}function at(o,a){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.order," ")}}function rt(o,a){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Quantidade de stages"),t.qZA())}function it(o,a){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.stages.length," ")}}function st(o,a){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Actions"),t.qZA())}function lt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",26),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",27),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().excluir(i)}),t.TgZ(4,"mat-icon"),t._uU(5,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function mt(o,a){1&o&&t._UZ(0,"tr",28)}function dt(o,a){1&o&&t._UZ(0,"tr",29)}function ct(o,a){1&o&&(t.TgZ(0,"div",30),t._UZ(1,"span",31),t.qZA())}let pt=(()=>{class o{constructor(e){this.service=e,this.fileToUpload=null,this.loading=!1,this.nomeBuffer="",this.ordemBuffer=0,this.respostaServidor="",this.displayedColumns=["Nome da rua","Ordem","Quantidade de stages","Actions"]}ngOnInit(){this.GetBufferInformation()}GetBufferInformation(){this.service.GetBuffers().subscribe(e=>{this.baseStages=e})}excluir(e){c().fire({text:"Deseja realmente excluir?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, continuar!"}).then(n=>{n.isConfirmed&&this.service.excluirStage(e).subscribe(r=>{c().fire({title:"Resposta Servidor",text:"excluido com sucesso",icon:"success"}),this.GetBufferInformation()},r=>{c().fire({title:"Resposta Servidor",text:"Falha ao excluir",icon:"error"})})})}handleFileInput(e){this.fileToUpload="csv"!=e.target.files[0].name.split(".")[1]?null:e.target.files[0]}EnviarArquivo(){this.loading=!0,this.service.SalvarBuffer(this.fileToUpload,this.nomeBuffer,this.ordemBuffer).subscribe(e=>{this.respostaServidor=e.message+" Registros salvos",this.loading=!1,c().fire({icon:"success",text:"Arquivo enviado",timer:2e3}),this.GetBufferInformation()},e=>{this.loading=!1,c().fire({icon:"error",text:"Erro ao enviar o arquivo",timer:2e3})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cadastro-buffer"]],decls:51,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],["appearance","outline",2,"width","100%"],["type","text","matInput","","placeholder","obrigat\xf3rio",3,"ngModel","ngModelChange"],["type","number","matInput","","placeholder","obrigat\xf3rio",3,"ngModel","ngModelChange"],[1,"row","mb-3"],[1,"form-group"],["for","file"],["type","file",1,"file-upload",3,"change"],["input",""],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","Nome da rua"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Ordem"],["matColumnDef","Quantidade de stages"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["type","button",1,"float-right","btn","btn-primary",3,"disabled","click"],[1,"row","mt-5"],[1,"col","text-center"],["class","spinner-border text-success","role","status",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-fab","","color","warn","aria-label","Example icon button with a delete icon",3,"click"],["mat-header-row",""],["mat-row",""],["role","status",1,"spinner-border","text-success"],[1,"sr-only"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-card-title"),t._uU(3,"Atualizar base de endere\xe7os"),t.qZA(),t.TgZ(4,"mat-card-content"),t.TgZ(5,"div",1),t.TgZ(6,"div",2),t.TgZ(7,"mat-form-field",3),t.TgZ(8,"mat-label"),t._uU(9,"Nome do Buffer"),t.qZA(),t.TgZ(10,"input",4),t.NdJ("ngModelChange",function(i){return n.nomeBuffer=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",1),t.TgZ(12,"div",2),t.TgZ(13,"mat-form-field",3),t.TgZ(14,"mat-label"),t._uU(15,"Ordem do buffer"),t.qZA(),t.TgZ(16,"input",5),t.NdJ("ngModelChange",function(i){return n.ordemBuffer=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"div",2),t.TgZ(19,"div",7),t.TgZ(20,"label",8),t._uU(21,"Escolha o arquivo csv"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"input",9,10),t.NdJ("change",function(i){return n.handleFileInput(i)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"p"),t._uU(26),t.qZA(),t._UZ(27,"hr"),t.TgZ(28,"div",1),t.TgZ(29,"div",2),t.TgZ(30,"table",11),t.ynx(31,12),t.YNc(32,et,2,0,"th",13),t.YNc(33,ot,2,1,"td",14),t.BQk(),t.ynx(34,15),t.YNc(35,nt,2,0,"th",13),t.YNc(36,at,2,1,"td",14),t.BQk(),t.ynx(37,16),t.YNc(38,rt,2,0,"th",13),t.YNc(39,it,2,1,"td",14),t.BQk(),t.ynx(40,17),t.YNc(41,st,2,0,"th",13),t.YNc(42,lt,6,0,"td",14),t.BQk(),t.YNc(43,mt,1,0,"tr",18),t.YNc(44,dt,1,0,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"mat-card-actions",20),t.TgZ(46,"button",21),t.NdJ("click",function(){return n.EnviarArquivo()}),t._uU(47,"Enviar"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",22),t.TgZ(49,"div",23),t.YNc(50,ct,2,0,"div",24),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngModel",n.nomeBuffer),t.xp6(6),t.Q6J("ngModel",n.ordemBuffer),t.xp6(10),t.Oqu(n.respostaServidor),t.xp6(4),t.Q6J("dataSource",n.baseStages),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("disabled",null==n.fileToUpload||""==n.nomeBuffer||n.ordemBuffer<=0),t.xp6(4),t.Q6J("ngIf",n.loading))},directives:[l.a8,l.n5,l.dn,f.KE,f.hX,q.Nt,s.Fj,s.JJ,s.On,s.wV,d.BZ,d.w1,d.fO,d.ge,d.Dz,d.ev,C.lW,M.Hw,d.as,d.XQ,d.nj,d.Gk,l.hq,u.O5],styles:[""]}),o})();class E{}var F=m(4107),ut=m(508),B=m(6853);function gt(o,a){if(1&o&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ft(o,a){if(1&o&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let _t=(()=>{class o{constructor(e,n,r){this.service=e,this.dialogRef=n,this.data=r,this.condicionais=[">=","=<"]}ngOnInit(){}FecharDialog(){this.service.SalvarCoresEagle(this.data).subscribe(e=>{c().fire({icon:"success",text:"Salvo com sucesso"})}),this.dialogRef.close(this.data)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h),t.Y36(_.so),t.Y36(_.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cadastro-regra-cores-detail"]],decls:51,vars:13,consts:[[1,"container-fluid"],[1,"w-100"],[1,"row"],[1,"col"],["appearance","outline",1,"w-100"],["type","text","matInput","","placeholder","Opcional",3,"ngModel","ngModelChange"],["type","number","matInput","",3,"ngModel","ngModelChange"],["appearance","outline"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","placeholder","Tempo em segundos",3,"ngModel","ngModelChange"],["matInput","","placeholder","Placeholder",3,"ngModel","colorPicker","ngModelChange","colorPickerChange"],[1,"col","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-card-content",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"mat-form-field",4),t.TgZ(6,"mat-label"),t._uU(7,"Nome da Regra"),t.qZA(),t.TgZ(8,"input",5),t.NdJ("ngModelChange",function(i){return n.data.nomeRegra=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",2),t.TgZ(10,"div",3),t.TgZ(11,"mat-form-field",4),t.TgZ(12,"mat-label"),t._uU(13,"Ordem da regra"),t.qZA(),t.TgZ(14,"input",6),t.NdJ("ngModelChange",function(i){return n.data.ordem_da_regra=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(15,"hr"),t.TgZ(16,"div",2),t.TgZ(17,"div",3),t.TgZ(18,"mat-form-field",7),t.TgZ(19,"mat-label"),t._uU(20,"Condicional tempo minimo"),t.qZA(),t.TgZ(21,"mat-select",8),t.NdJ("ngModelChange",function(i){return n.data.condicional_tempo_minimo=i}),t.YNc(22,gt,2,2,"mat-option",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",3),t.TgZ(24,"mat-form-field",7),t.TgZ(25,"mat-label"),t._uU(26,"Tempo minimo"),t.qZA(),t.TgZ(27,"input",10),t.NdJ("ngModelChange",function(i){return n.data.tempo_minimo=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",2),t.TgZ(29,"div",3),t.TgZ(30,"mat-form-field",7),t.TgZ(31,"mat-label"),t._uU(32,"Condicional tempo maximo"),t.qZA(),t.TgZ(33,"mat-select",8),t.NdJ("ngModelChange",function(i){return n.data.condicional_tempo_maximo=i}),t.YNc(34,ft,2,2,"mat-option",9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",3),t.TgZ(36,"mat-form-field",7),t.TgZ(37,"mat-label"),t._uU(38,"Tempo maximo"),t.qZA(),t.TgZ(39,"input",10),t.NdJ("ngModelChange",function(i){return n.data.tempo_maximo=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(40,"hr"),t.TgZ(41,"div",2),t.TgZ(42,"div",3),t.TgZ(43,"mat-form-field",4),t.TgZ(44,"mat-label"),t._uU(45,"Cor"),t.qZA(),t.TgZ(46,"input",11),t.NdJ("ngModelChange",function(i){return n.data.color_hex=i})("colorPickerChange",function(i){return n.data.color_hex=i}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",2),t.TgZ(48,"div",12),t.TgZ(49,"button",13),t.NdJ("click",function(){return n.FecharDialog()}),t._uU(50,"Salvar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(8),t.Q6J("ngModel",n.data.nomeRegra),t.xp6(6),t.Q6J("ngModel",n.data.ordem_da_regra),t.xp6(7),t.Q6J("ngModel",n.data.condicional_tempo_minimo),t.xp6(1),t.Q6J("ngForOf",n.condicionais),t.xp6(5),t.Q6J("ngModel",n.data.tempo_minimo),t.xp6(6),t.Q6J("ngModel",n.data.condicional_tempo_maximo),t.xp6(1),t.Q6J("ngForOf",n.condicionais),t.xp6(5),t.Q6J("ngModel",n.data.tempo_maximo),t.xp6(7),t.Udp("background",n.data.color_hex),t.Q6J("ngModel",n.data.color_hex)("colorPicker",n.data.color_hex),t.xp6(3),t.Q6J("disabled",0==n.data.ordem_da_regra||null==n.data.ordem_da_regra))},directives:[l.a8,l.dn,f.KE,f.hX,q.Nt,s.Fj,s.JJ,s.On,s.wV,F.gD,u.sg,ut.ey,B.Kk,C.lW],styles:[""]}),o})();function ht(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Nome da Regra"),t.qZA())}function Zt(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.nomeRegra," ")}}function Ct(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Tempo minimo"),t.qZA())}function Tt(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.tempo_minimo," ")}}function xt(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Condicional tempo minimo"),t.qZA())}function At(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.condicional_tempo_minimo," ")}}function bt(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"tempo maximo"),t.qZA())}function vt(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.tempo_maximo," ")}}function qt(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Condicional tempo maximo"),t.qZA())}function Mt(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.condicional_tempo_maximo," ")}}function Dt(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"responsavel regra"),t.qZA())}function Rt(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.responsavel_nome," ")}}function yt(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Ordem da regra"),t.qZA())}function Ut(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.ordem_da_regra," ")}}function Nt(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Cor"),t.qZA())}function wt(o,a){if(1&o&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Udp("background",e.color_hex),t.xp6(1),t.hij(" ",e.color_hex," ")}}function Et(o,a){1&o&&(t.TgZ(0,"th",20),t._uU(1,"Actions"),t.qZA())}function Ft(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",21),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().EmmitRowClick(i)}),t.TgZ(4,"mat-icon"),t._uU(5,"edit"),t.qZA(),t.qZA(),t.TgZ(6,"button",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().Delete(i)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function Bt(o,a){1&o&&t._UZ(0,"tr",23)}function Ot(o,a){1&o&&t._UZ(0,"tr",24)}let Jt=(()=>{class o{constructor(e,n,r){this.service=e,this.dialog=n,this.coresEagle=r,this.displayedColumns=["Nome Regra","tempo minimo","Condicional tempo minimo","tempo maximo","Condicional tempo maximo","responsavel regra","Ordem da regra","Cor","Actions"]}ngOnInit(){this.Request()}Request(){this.service.GetCoresEagel().subscribe(e=>{this.configCores=e})}EmmitRowClick(e){this.dialog.open(_t,{data:e}).afterClosed().subscribe(n=>{this.Request()})}Delete(e){c().fire({text:"Gostaria de deletar esse registro?",showCancelButton:!0,confirmButtonText:"Sim",denyButtonText:"N\xe3o"}).then(n=>{n.isDismissed||this.service.DeleteCoresEagle(e).subscribe(r=>{c().fire({icon:"success",text:"Deletado com sucesso"}),this.Request()},r=>{c().fire({icon:"error",text:"Erro ao deletar"})})})}NovoRegistro(){this.EmmitRowClick(this.coresEagle)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h),t.Y36(_.uw),t.Y36(E))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cadastro-regra-cores"]],features:[t._Bn([E])],decls:41,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[1,"col","text-end"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","Nome Regra"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tempo minimo"],["matColumnDef","Condicional tempo minimo"],["matColumnDef","tempo maximo"],["matColumnDef","Condicional tempo maximo"],["matColumnDef","responsavel regra"],["matColumnDef","Ordem da regra"],["matColumnDef","Cor"],["mat-cell","",3,"background",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-card-title"),t.TgZ(3,"div",1),t.TgZ(4,"div",2),t._uU(5," Configura\xe7\xe3o de cores de Buffer "),t.qZA(),t.qZA(),t.TgZ(6,"div",1),t.TgZ(7,"div",3),t.TgZ(8,"button",4),t.NdJ("click",function(){return n.NovoRegistro()}),t._uU(9,"Novo"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-card-content"),t.TgZ(11,"table",5),t.ynx(12,6),t.YNc(13,ht,2,0,"th",7),t.YNc(14,Zt,2,1,"td",8),t.BQk(),t.ynx(15,9),t.YNc(16,Ct,2,0,"th",7),t.YNc(17,Tt,2,1,"td",8),t.BQk(),t.ynx(18,10),t.YNc(19,xt,2,0,"th",7),t.YNc(20,At,2,1,"td",8),t.BQk(),t.ynx(21,11),t.YNc(22,bt,2,0,"th",7),t.YNc(23,vt,2,1,"td",8),t.BQk(),t.ynx(24,12),t.YNc(25,qt,2,0,"th",7),t.YNc(26,Mt,2,1,"td",8),t.BQk(),t.ynx(27,13),t.YNc(28,Dt,2,0,"th",7),t.YNc(29,Rt,2,1,"td",8),t.BQk(),t.ynx(30,14),t.YNc(31,yt,2,0,"th",7),t.YNc(32,Ut,2,1,"td",8),t.BQk(),t.ynx(33,15),t.YNc(34,Nt,2,0,"th",7),t.YNc(35,wt,2,3,"td",16),t.BQk(),t.ynx(36,17),t.YNc(37,Et,2,0,"th",7),t.YNc(38,Ft,9,0,"td",8),t.BQk(),t.YNc(39,Bt,1,0,"tr",18),t.YNc(40,Ot,1,0,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(11),t.Q6J("dataSource",n.configCores),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},directives:[l.a8,l.n5,C.lW,l.dn,d.BZ,d.w1,d.fO,d.ge,d.Dz,d.ev,M.Hw,d.as,d.XQ,d.nj,d.Gk],styles:[""]}),o})();var O=function(){function o(a,e,n){this.el=a,this.vcr=e,this.renderer=n,this.dtOptions={}}return o.prototype.ngOnInit=function(){var a=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){a.displayTable(e)}):this.displayTable(null)},o.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},o.prototype.displayTable=function(a){var e=this;a&&(this.dtOptions=a),this.dtInstance=new Promise(function(n,r){Promise.resolve(e.dtOptions).then(function(i){0===Object.keys(i).length&&0===$("tbody tr",e.el.nativeElement).length?r("Both the table and dtOptions cannot be empty"):setTimeout(function(){var T={rowCallback:function(x,Z,D){if(i.columns){var b=i.columns;e.applyNgPipeTransform(x,b),e.applyNgRefTemplate(x,b,Z)}i.rowCallback&&i.rowCallback(x,Z,D)}};T=Object.assign({},i,T),e.dt=$(e.el.nativeElement).DataTable(T),n(e.dt)})})})},o.prototype.applyNgPipeTransform=function(a,e){e.filter(function(r){return r.ngPipeInstance&&!r.ngTemplateRef}).forEach(function(r){var i=r.ngPipeInstance,p=r.ngPipeArgs||[],T=e.findIndex(function(b){return b.data===r.data}),x=a.childNodes.item(T),Z=$(x).text(),D=i.transform.apply(i,function(o,a,e){if(e||2===arguments.length)for(var i,n=0,r=a.length;n<r;n++)(i||!(n in a))&&(i||(i=Array.prototype.slice.call(a,0,n)),i[n]=a[n]);return o.concat(i||Array.prototype.slice.call(a))}([Z],p,!1));$(x).text(D)})},o.prototype.applyNgRefTemplate=function(a,e,n){var r=this;e.filter(function(p){return p.ngTemplateRef&&!p.ngPipeInstance}).forEach(function(p){var T=p.ngTemplateRef,x=T.ref,Z=T.context,D=e.findIndex(function(ee){return ee.data===p.data}),b=a.childNodes.item(D);$(b).html("");var Lt=Object.assign({},Z,null==Z?void 0:Z.userData,{adtData:n}),te=r.vcr.createEmbeddedView(x,Lt);r.renderer.appendChild(b,te.rootNodes[0])})},o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t.Qsj))},o.\u0275dir=t.lG2({type:o,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),o}(),It=function(){function o(){}return o.forRoot=function(){return{ngModule:o}},o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez]]}),o}(),St=m(7579);function Yt(o,a){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.qZA()),2&o){const e=a.$implicit;t.xp6(2),t.Oqu(e.is_order),t.xp6(2),t.Oqu(e.tote),t.xp6(2),t.Oqu(e.fecha_chegada),t.xp6(2),t.Oqu(e.tempo_restante_formatado),t.xp6(2),t.Oqu(e.tempo_restante),t.xp6(2),t.Oqu(e.data_armazenamento),t.xp6(2),t.Oqu(e.armazenado_por),t.xp6(2),t.Oqu(e.stage),t.xp6(2),t.Oqu(e.estado_is)}}let Qt=(()=>{class o{constructor(e,n){this.relatorioService=n,this.verde=0,this.amarelo=0,this.vermelho=0,this.dtOptions={},this.dtTrigger=new St.x}ngAfterViewInit(){this.GetDataFromServer()}ngOnInit(){this.dtOptions={pagingType:"full_numbers",dom:"Bftri",order:[[4,"asc"]],columnDefs:[{targets:3,createdCell:function(e,n,r,i,p){r[4]<=86400&&r[4]>0&&$(e).addClass("badge-24-48"),r[4]<=0&&$(e).addClass("badge-48"),r[4]>86400&&$(e).addClass("badge-24")}}]}}ngOnDestroy(){this.dtTrigger.unsubscribe()}GetDataFromServer(){this.relatorioService.ReportTotes().subscribe(e=>{this.reports=e,this.vermelho=this.reports.reduce((n,r)=>n+r.vermelho,0),this.verde=this.reports.reduce((n,r)=>n+r.verde,0),this.amarelo=this.reports.reduce((n,r)=>n+r.amarelo,0),this.dtTrigger.next(null)})}updateDatatable(){this.datatableElement.dtInstance.then(e=>{e.destroy(),this.GetDataFromServer()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-relatorio"]],viewQuery:function(e,n){if(1&e&&t.Gf(O,5),2&e){let r;t.iGM(r=t.CRH())&&(n.datatableElement=r.first)}},decls:49,vars:6,consts:[[1,"row"],[1,"col-sm-12","col-md-4","col-lg-4","mb-2"],[1,"card-24"],[1,"card-24-48"],[1,"card-48"],[1,"row","mb-2"],[1,"col"],["mat-raised-button","","color","primary",3,"click"],["id","table","datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"mat-card",2),t.TgZ(4,"mat-card-title"),t._uU(5,"Verde"),t.qZA(),t.TgZ(6,"mat-card-content"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",1),t.TgZ(9,"mat-card",3),t.TgZ(10,"mat-card-title"),t._uU(11,"Amarelo"),t.qZA(),t.TgZ(12,"mat-card-content"),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",1),t.TgZ(15,"mat-card",4),t.TgZ(16,"mat-card-title"),t._uU(17,"Vermelho"),t.qZA(),t.TgZ(18,"mat-card-content"),t._uU(19),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",5),t.TgZ(21,"div",6),t.TgZ(22,"button",7),t.NdJ("click",function(){return n.updateDatatable()}),t._uU(23,"Consultar"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",0),t.TgZ(25,"div",6),t.TgZ(26,"table",8),t.TgZ(27,"thead"),t.TgZ(28,"tr"),t.TgZ(29,"th"),t._uU(30,"N\xfamero IS"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"TOTE"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Data de chegada"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Tempo Restante SLA"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Tempo Corrido"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Data de armazenamento"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Armazenado por"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Stage"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Status IS"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"tbody"),t.YNc(48,Yt,19,9,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.hij("Totes : ",n.verde,""),t.xp6(6),t.hij("Totes : ",n.amarelo,""),t.xp6(6),t.hij("Totes : ",n.vermelho,""),t.xp6(7),t.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),t.xp6(22),t.Q6J("ngForOf",n.reports))},directives:[l.a8,l.n5,l.dn,C.lW,O,u.sg],styles:[".badge-48[_ngcontent-%COMP%]{background-color:red;text-align:center;border-radius:5px;margin-right:10px;margin-left:10px;color:#fff;font-weight:700;box-shadow:0 0 10px -3px #000000c7}.badge-24-48[_ngcontent-%COMP%]{padding:10px;background-color:#ff0;text-align:center;border-radius:5px;margin-right:10px;margin-left:10px;font-weight:700;box-shadow:0 0 10px -3px #000000c7}.badge-24[_ngcontent-%COMP%]{background-color:#adff2f;text-align:center;border-radius:5px;margin-right:10px;margin-left:10px;font-weight:700;box-shadow:0 0 10px -3px #000000c7}.excelButton[_ngcontent-%COMP%]{background-color:red!important}.button-container[_ngcontent-%COMP%]{position:fixed;right:2%;top:92%}.card-24[_ngcontent-%COMP%]{border-right:7px;border-right-color:#adff2f;border-top-right-radius:20px;border-style:solid;border-left:0px;border-bottom:0px;border-top:0px}.card-24-48[_ngcontent-%COMP%]{border-right:7px;border-right-color:#ff0;border-top-right-radius:20px;border-style:solid;border-left:0px;border-bottom:0px;border-top:0px}.card-48[_ngcontent-%COMP%]{border-right:7px;border-right-color:red;border-top-right-radius:20px;border-style:solid;border-left:0px;border-bottom:0px;border-top:0px}"]}),o})();function Pt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"div",7),t._uU(2),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"button",13),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).RemoveTote(i)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(2),t.hij(" ",e," ")}}function zt(o,a){if(1&o&&(t.TgZ(0,"mat-card"),t.TgZ(1,"mat-card-title"),t._uU(2,"CAs Adicionadas"),t.qZA(),t.TgZ(3,"div",9),t.TgZ(4,"mat-selection-list",10,11),t.YNc(6,Pt,7,1,"mat-list-item",12),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.stageModel.tote)}}function jt(o,a){1&o&&(t.TgZ(0,"div",14),t._UZ(1,"span",15),t.qZA())}let $t=(()=>{class o{constructor(e,n,r){this._formBuilder=e,this.stageModel=n,this.service=r,this.desabilitarFinalizar=!1,this.customPatterns={0:{pattern:new RegExp("[0-9]")},P:{pattern:new RegExp("[a-zA-Z]")}}}ngOnInit(){this.CreateForm(this.stageModel),this.onChanges()}CreateForm(e){this.formCliente=this._formBuilder.group({posicao:[e.stage,s.kI.required],tote:[]})}get tote(){return this.formCliente.get("tote")}onChanges(){this.formCliente.get("tote").valueChanges.subscribe(e=>{if(-1===this.Exists(e))return this.stageModel.tote.push(e),void this.formCliente.get("tote").setValue("",{emitEvent:!1});this.formCliente.get("tote").setValue("",{emitEvent:!1})})}ResetForm(){this.stageModel=new v,this.CreateForm(this.stageModel),this.onChanges()}Finalizar(){this.desabilitarFinalizar=!0,this.service.Remover(this.stageModel).subscribe(e=>{c().fire({text:"Salvo",icon:"success"}),this.stageModel.tote=[]},e=>{402!=e.status?c().fire({text:"erro",icon:"error"}):c().fire({text:"Endere\xe7o de stage n\xe3o encontrado na base de dados.",icon:"error"})}),this.desabilitarFinalizar=!1}RemoveTote(e){const n=this.Exists(e);-1!==n&&this.stageModel.tote.splice(n,1)}Exists(e){return this.stageModel.tote.indexOf(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(v),t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-remover"]],features:[t._Bn([v])],decls:20,vars:5,consts:[[3,"formGroup"],[3,"matBadge"],["matInput","","NgModel","","placeholder","Escaneie um TOTE ou posi\xe7\xe3o","formControlName","tote"],["align","end"],["mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"row"],[1,"col","text-center"],["class","spinner-border","role","status",4,"ngIf"],[1,"row","w-100"],[1,"w-100"],["modeTote",""],[4,"ngFor","ngForOf"],["mat-icon-button","",1,"btn","btn-danger",3,"click"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"mat-card"),t.TgZ(2,"mat-card-title"),t._uU(3,"Escaneie a TOTE ou posi\xe7\xe3o"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t.TgZ(5,"p"),t.TgZ(6,"span",1),t._uU(7,"Quantidade de Totes ou endere\xe7os"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"mat-card-content"),t.TgZ(9,"mat-form-field"),t.TgZ(10,"mat-label"),t._uU(11,"TOTE ou endere\xe7os"),t.qZA(),t._UZ(12,"input",2),t.qZA(),t.qZA(),t.TgZ(13,"mat-card-actions",3),t.TgZ(14,"button",4),t.NdJ("click",function(){return n.Finalizar()}),t._uU(15,"Finalizar"),t.qZA(),t.qZA(),t.qZA(),t.YNc(16,zt,7,1,"mat-card",5),t.qZA(),t.TgZ(17,"div",6),t.TgZ(18,"div",7),t.YNc(19,jt,2,0,"div",8),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",n.formCliente),t.xp6(6),t.s9C("matBadge",n.stageModel.tote.length),t.xp6(8),t.Q6J("disabled",null==n.stageModel.tote||0==n.stageModel.tote.length),t.xp6(2),t.Q6J("ngIf",n.stageModel.tote.length>0),t.xp6(3),t.Q6J("ngIf",n.desabilitarFinalizar))},directives:[s._Y,s.JL,s.sg,l.a8,l.n5,l.$j,R.k,l.dn,f.KE,f.hX,q.Nt,s.Fj,s.JJ,s.u,l.hq,C.lW,u.O5,A.Ub,u.sg,A.Tg,M.Hw],styles:["mat-card[_ngcontent-%COMP%]{margin:10px}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),o})();class y{}function Gt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"mat-card-title"),t._uU(2,"Escaneie uma CA/BX"),t.qZA(),t.TgZ(3,"mat-card-content"),t.TgZ(4,"mat-form-field"),t.TgZ(5,"mat-label"),t._uU(6,"Posi\xe7\xe3o"),t.qZA(),t._UZ(7,"input",2),t.qZA(),t.qZA(),t.TgZ(8,"mat-card-actions",3),t.TgZ(9,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().Proximo()}),t._uU(10,"Proximo"),t.qZA(),t.qZA(),t.qZA()}}function Ht(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"mat-card-title"),t._uU(2,"Escaneie a nova posi\xe7\xe3o"),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t.TgZ(4,"p"),t.TgZ(5,"span",5),t._uU(6,"Quantidade de Totes"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"mat-card-content"),t.TgZ(8,"mat-form-field"),t.TgZ(9,"mat-label"),t._uU(10,"Posi\xe7\xe3o"),t.qZA(),t._UZ(11,"input",6),t.qZA(),t.qZA(),t.TgZ(12,"mat-card-actions",3),t.TgZ(13,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().Anterior()}),t._uU(14,"Anterior"),t.qZA(),t.TgZ(15,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().Finalizar()}),t._uU(16,"Finalizar"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.s9C("matBadge",e.quantidade_ca),t.xp6(10),t.Q6J("disabled",""==e.transferModel.pallet_number)}}const Xt=[{path:"armazenar",component:G},{path:"transferir",component:(()=>{class o{constructor(e,n,r){this._formBuilder=e,this.transferModel=n,this.service=r,this.mostrar=!0,this.quantidade_ca=0,this.customPatterns={0:{pattern:new RegExp("[0-9]")},P:{pattern:new RegExp("[a-zA-Z]")}}}ngOnInit(){this.CreateForm(this.transferModel),this.onChanges()}CreateForm(e){this.formCliente=this._formBuilder.group({stage:[e.stage,s.kI.required],tote:[e.tote,s.kI.required]})}onChanges(){this.formCliente.get("stage").valueChanges.subscribe(e=>{this.transferModel.stage=e}),this.formCliente.get("tote").valueChanges.subscribe(e=>{this.transferModel.tote=e})}Proximo(){this.service.PesquisarTote(this.transferModel).subscribe(e=>{console.log(e),this.transferModel.pallet_number=e[0].pallet_number,this.quantidade_ca=e.length,this.mostrar=!1},e=>{console.log(e),c().fire({icon:"error",text:"CA ou BX n\xe3o encontrada."})})}Anterior(){this.mostrar=!0}ResetForm(){this.transferModel=new y,this.CreateForm(this.transferModel),this.mostrar=!0,this.onChanges()}Finalizar(){this.formCliente.valid&&(this.service.TransferirTotes(this.transferModel).subscribe(e=>{c().fire({icon:"success",text:"Salvo!"})},e=>{c().fire({icon:"error",text:"Ocorreu um erro!"})}),this.ResetForm())}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(y),t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-transferir"]],features:[t._Bn([y])],decls:3,vars:3,consts:[[3,"formGroup"],[4,"ngIf"],["matInput","","placeholder","Escaneie uma posi\xe7\xe3o","formControlName","tote"],["align","end"],["mat-raised-button","","color","primary",3,"click"],[3,"matBadge"],["matInput","","placeholder","Escaneie uma posi\xe7\xe3o","formControlName","stage"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.YNc(1,Gt,11,0,"mat-card",1),t.YNc(2,Ht,17,2,"mat-card",1),t.qZA()),2&e&&(t.Q6J("formGroup",n.formCliente),t.xp6(1),t.Q6J("ngIf",n.mostrar),t.xp6(1),t.Q6J("ngIf",!n.mostrar))},directives:[s._Y,s.JL,s.sg,u.O5,l.a8,l.n5,l.dn,f.KE,f.hX,q.Nt,s.Fj,s.JJ,s.u,l.hq,C.lW,l.$j,R.k],styles:["mat-card[_ngcontent-%COMP%]{margin:10px}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),o})()},{path:"cadastro-buffer",component:pt},{path:"relatorio",component:Qt},{path:"buffer-stagein",component:tt},{path:"buffer-stagein-detail",component:w},{path:"cores-eagle",component:Jt},{path:"remover-eagle",component:$t}];let Vt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[N.Bz.forChild(Xt)],N.Bz]}),o})();var Wt=m(2181);let Kt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,Vt,s.UX,l.QW,f.lN,F.LD,A.ie,M.Ps,q.c,R.g,C.ot,It,Wt.Tx,d.p0,s.u5,_.Is,B.e4]]}),o})()}}]);